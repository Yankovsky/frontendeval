(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{7017:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/counter",function(){return t(8597)}])},8597:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p}});var r=t(5893),i=t(7294);function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,u=[],a=!0,o=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(u.push(r.value),!e||u.length!==e);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(o)throw i}}return u}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=function(n){(0,i.useEffect)((function(){document.title=n}),[n])},l=function(n){var e=Math.ceil(n/1e3);return[Math.floor(e/3600),Math.floor(e%3600/60),e%3600%60]},s=function(n){var e=n.defaultValue,t=n.name,u=n.label,a=n.id,o=n.placeholder,l=n.min,s=n.max,c=n.onUpdate,f=(0,i.useRef)(null),d=function(n,e){return function(t){return Math.max(Math.min(t,e),n)}}(l,s);return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:a,children:u}),(0,r.jsx)("input",{ref:f,defaultValue:0===e?"":e,placeholder:o,name:t,id:a,type:"tel",onBlur:function(){var n=f.current;if(null!==n){var e=n.value,t=Number(e);if(""===e.trim()||Number.isNaN(t))c(0),n.value="";else{var r=d(t);c(r),n.value=String(r)}}}})]})},c=function(n){var e=n.timerStartMs,t=n.onStart;o("Countdown timer");var u=a(l(e),3),c=u[0],f=u[1],d=u[2],m=(0,i.useState)(c),h=m[0],p=m[1],v=(0,i.useState)(f),x=v[0],j=v[1],b=(0,i.useState)(d),y=b[0],S=b[1],w=(0,i.useState)(!1),N=w[0],g=w[1];return(0,i.useEffect)((function(){if(N){var n=1e3*(3600*h+60*x+y);n?t(n):g(!1)}}),[N,h,x,y,t]),(0,r.jsxs)("form",{className:"container",onSubmit:function(n){n.preventDefault();var e=!0,t=!1,r=void 0;try{for(var i,u=n.currentTarget.elements[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){i.value.blur()}}catch(a){t=!0,r=a}finally{try{e||null==u.return||u.return()}finally{if(t)throw r}}g(!0)},children:[(0,r.jsxs)("div",{className:"time-container",children:[(0,r.jsx)(s,{defaultValue:h,name:"hours",id:"hours",label:"Hours",placeholder:"HH",min:0,max:99,onUpdate:p}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)(s,{defaultValue:x,name:"minutes",id:"minutes",label:"Minutes",placeholder:"MM",min:0,max:59,onUpdate:j}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)(s,{defaultValue:y,name:"seconds",id:"seconds",label:"Seconds",placeholder:"SS",min:0,max:59,onUpdate:S})]}),(0,r.jsx)("button",{type:"submit",children:"Start"})]})},f=function(n){return l(n).map((function(n){return String(n).padStart(2,"0")}))},d=function(n){var e=n.timerStartMs,t=n.onReset,u=n.onFinish,a=(0,i.useState)(1e3),l=a[0],s=a[1],c=(0,i.useState)(!1),d=c[0],m=c[1],h=(0,i.useState)(e),p=h[0],v=h[1];!function(n,e){var t=(0,i.useRef)(),r=(0,i.useRef)(0);(0,i.useEffect)((function(){t.current=n})),(0,i.useEffect)((function(){var n;if(null!==e){r.current=performance.now();var i=function(){var u=performance.now();t.current&&t.current(u-r.current),r.current=u,n=setTimeout(i,e)};i()}else t.current&&t.current(performance.now()-r.current);return function(){return clearTimeout(n)}}),[e])}((function(n){if(!d){var e=p-n;e<0?(v(0),s(null),m(!0),u()):v(e)}}),l),o(p?f(p).join(":"):"Countdown timer");return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"time-container",children:f(p).map((function(n,e){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",{className:"display-time-part",children:n}),2!==e&&(0,r.jsx)("span",{children:":"})]},e)}))}),!d&&null===l&&(0,r.jsx)("button",{type:"button",onClick:function(){return s(1e3)},children:"Resume"}),!d&&null!==l&&(0,r.jsx)("button",{type:"button",onClick:function(){return s(null)},children:"Pause"}),d&&(0,r.jsx)("span",{className:"finished",children:"Finished"}),(0,r.jsx)("button",{type:"button",onClick:t,children:"Reset"})]})},m=function(){var n=(0,i.useState)(!1),e=n[0],t=n[1],u=(0,i.useState)(0),a=u[0],o=u[1];return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsx)(d,{timerStartMs:a,onReset:function(){t(!1)},onFinish:function(){t(!1);"Notification"in window&&"granted"===Notification.permission?new Notification("Timer finished"):alert("Timer finished")}}):(0,r.jsx)(c,{timerStartMs:a,onStart:function(n){"Notification"in window&&"denied"!==Notification.permission&&Notification.requestPermission(),t(!0),o(n)}})})},h=function(){return(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Countdown timer"}),(0,r.jsx)(m,{})]})},p=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"stylesheet",href:"countdown-timer.css"}),(0,r.jsx)(h,{})]})}}},function(n){n.O(0,[774,888,179],(function(){return e=7017,n(n.s=e);var e}));var e=n.O();_N_E=e}]);