(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{1620:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/counter",function(){return t(8128)}])},8128:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return x}});var r=t(5893),i=t(9008),u=t(7294);function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,u=[],a=!0,o=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(u.push(r.value),!e||u.length!==e);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(o)throw i}}return u}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(n){(0,u.useEffect)((function(){document.title=n}),[n])},s=function(n){var e=Math.ceil(n/1e3);return[Math.floor(e/3600),Math.floor(e%3600/60),e%3600%60]},c=function(n){var e=n.defaultValue,t=n.name,i=n.label,a=n.id,o=n.placeholder,l=n.min,s=n.max,c=n.onUpdate,f=(0,u.useRef)(null),d=function(n,e){return function(t){return Math.max(Math.min(t,e),n)}}(l,s);return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:a,children:i}),(0,r.jsx)("input",{ref:f,defaultValue:0===e?"":e,placeholder:o,name:t,id:a,type:"tel",onBlur:function(){var n=f.current;if(null!==n){var e=n.value,t=Number(e);if(""===e.trim()||Number.isNaN(t))c(0),n.value="";else{var r=d(t);c(r),n.value=String(r)}}}})]})},f=function(n){var e=n.timerStartMs,t=n.onStart,i=o(s(e),3),a=i[0],l=i[1],f=i[2],d=(0,u.useState)(a),m=d[0],h=d[1],p=(0,u.useState)(l),x=p[0],v=p[1],j=(0,u.useState)(f),b=j[0],y=j[1],S=(0,u.useState)(!1),w=S[0],N=S[1];return(0,u.useEffect)((function(){if(w){var n=1e3*(3600*m+60*x+b);n?t(n):N(!1)}}),[w,m,x,b,t]),(0,r.jsxs)("form",{className:"container",onSubmit:function(n){n.preventDefault();var e=!0,t=!1,r=void 0;try{for(var i,u=n.currentTarget.elements[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){i.value.blur()}}catch(a){t=!0,r=a}finally{try{e||null==u.return||u.return()}finally{if(t)throw r}}N(!0)},children:[(0,r.jsxs)("div",{className:"time-container",children:[(0,r.jsx)(c,{defaultValue:m,name:"hours",id:"hours",label:"Hours",placeholder:"HH",min:0,max:99,onUpdate:h}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)(c,{defaultValue:x,name:"minutes",id:"minutes",label:"Minutes",placeholder:"MM",min:0,max:59,onUpdate:v}),(0,r.jsx)("span",{children:":"}),(0,r.jsx)(c,{defaultValue:b,name:"seconds",id:"seconds",label:"Seconds",placeholder:"SS",min:0,max:59,onUpdate:y})]}),(0,r.jsx)("button",{type:"submit",children:"Start"})]})},d=function(n){return s(n).map((function(n){return String(n).padStart(2,"0")}))},m=function(n){var e=n.timerStartMs,t=n.onReset,i=n.onFinish,a=(0,u.useState)(1e3),o=a[0],s=a[1],c=(0,u.useState)(!1),f=c[0],m=c[1],h=(0,u.useState)(e),p=h[0],x=h[1];!function(n,e){var t=(0,u.useRef)(),r=(0,u.useRef)(0);(0,u.useEffect)((function(){t.current=n})),(0,u.useEffect)((function(){var n;if(null!==e){r.current=performance.now();var i=function(){var u=performance.now();t.current&&t.current(u-r.current),r.current=u,n=setTimeout(i,e)};i()}else t.current&&t.current(performance.now()-r.current);return function(){return clearTimeout(n)}}),[e])}((function(n){if(!f){var e=p-n;e<0?(x(0),s(null),m(!0),i()):x(e)}}),o),l(p?d(p).join(":"):"Countdown timer");return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"time-container",children:d(p).map((function(n,e){return(0,r.jsxs)(u.Fragment,{children:[(0,r.jsx)("span",{className:"display-time-part",children:n}),2!==e&&(0,r.jsx)("span",{children:":"})]},e)}))}),!f&&null===o&&(0,r.jsx)("button",{type:"button",onClick:function(){return s(1e3)},children:"Resume"}),!f&&null!==o&&(0,r.jsx)("button",{type:"button",onClick:function(){return s(null)},children:"Pause"}),f&&(0,r.jsx)("span",{className:"finished",children:"Finished"}),(0,r.jsx)("button",{type:"button",onClick:t,children:"Reset"})]})},h=function(){var n=(0,u.useState)(!1),e=n[0],t=n[1],i=(0,u.useState)(0),a=i[0],o=i[1];return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsx)(m,{timerStartMs:a,onReset:function(){t(!1)},onFinish:function(){t(!1);"Notification"in window&&"granted"===Notification.permission?new Notification("Timer finished"):alert("Timer finished")}}):(0,r.jsx)(f,{timerStartMs:a,onStart:function(n){"Notification"in window&&"denied"!==Notification.permission&&Notification.requestPermission(),t(!0),o(n)}})})},p=function(){return l("Countdown timer"),(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Countdown timer"}),(0,r.jsx)(h,{})]})},x=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{children:(0,r.jsx)("link",{rel:"stylesheet",href:"counter.css"})}),(0,r.jsx)(p,{})]})}},9008:function(n,e,t){n.exports=t(3121)}},function(n){n.O(0,[774,888,179],(function(){return e=1620,n(n.s=e);var e}));var e=n.O();_N_E=e}]);